* Signed commits can't be rewritten as easily. What to do about them?
    * Presumably we're rewriting an unpublished history, so this isn't much of
      a problemâ€”a person doing the rewriting can just sign the resulting
      commit.
* Check comments for commit hashes and replace them with the updated ones.
* The tool should explain what it's doing so that when some subcommand fail
  (e.g. due to a merge conflict) the user can figure out what's going on and
  how to better proceed.
* Users will probably want their branches to be migrated to new commit IDs.
  Ditto for tags. In any case, it should be a) optional and b) revertable.
* Remove the submodule from .gitmodules
* Remove .gitmodules if it was created in the same commit that introduced the
  submodule
* Figure out how .gitignore in subdirectories is processed. Can we somehow
  merge it with the one that's in the main repo?
* Make sure the workdir is in clean state before doing anything
* Make sure we only use expect() for errors that users should report back to
  us. Everything that users might try to fix themselves should be reported in
  a friendlier manner.
